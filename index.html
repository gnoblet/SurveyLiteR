<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Analyzing survey data (collected with Kobo) ‚Ä¢ SurveyLiteR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="‚Äùimage/svg+xml‚Äù" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Analyzing survey data (collected with Kobo)">
<meta name="description" content="Providing helpers to support a (quasi-)automated survey data analysis workflow.">
<meta property="og:description" content="Providing helpers to support a (quasi-)automated survey data analysis workflow.">
<meta property="og:image" content="https://gnoblet.github.io/SurveyLiteR/logo.svg">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">SurveyLiteR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gnoblet/SurveyLiteR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><a href="https://gnoblet.github.io/SurveyLiteR/"><img src="reference/figures/logo.svg" align="right" height="139" alt="SurveyLiteR website"></a></p>
<!-- badges: start -->

<p><strong>SurveyLiteR</strong> provides a streamlined workflow for analyzing survey data based on sampling designs (weights, strata, clusters). Whether you‚Äôre working with data collected with <a href="https://www.kobotoolbox.org/" class="external-link">KoboToolbox</a> data or any survey data really, this package offers standardized analysis functions built on top of the <code>srvyr</code> package. It standardizes outputs which you can use for faster reporting and visualization.</p>
<p>If you are a (I)NGO or a UN agency analyst, data officer, information management officer, MEAL officer, and you work with survey data, this package is for you!</p>
<div class="section level2">
<h2 id="when-to-use-surveyliter">When to Use SurveyLiteR<a class="anchor" aria-label="anchor" href="#when-to-use-surveyliter"></a>
</h2>
<table class="table"><tr>
<td width="50%" valign="top">
<p>‚úÖ <strong>Perfect for:</strong></p>
<ul>
<li>Survey data with weights, strata, or clusters</li>
<li>KoboToolbox data analysis</li>
<li>Standardized reports with confidence intervals</li>
<li>Quick automated analysis</li>
<li>Consistent output formats</li>
</ul>
</td>
<td width="50%" valign="top">
<p>‚ùå <strong>Not needed for (although working):</strong></p>
<ul>
<li>Simple unweighted data analysis</li>
<li>Non-survey statistical analysis</li>
</ul>
</td>
</tr></table>
<p>Although, the package remains useful even if you don‚Äôt have weights, strata, or clusters, as it still provides a consistent and easy-to-use interface for survey analysis. Just set weights to 1 and strata/clusters to NULL!</p>
<p>Note that it is shared AS IS WITHOUT ANY WARRANTY, and is not meant to be a drop-in replacement for more comprehensive survey analysis packages like <code>survey</code> or <code>srvyr</code>. It is only designed to simplify common survey analysis tasks.</p>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"gnoblet/SurveyLiteR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="lets-run-an-example">Let‚Äôs run an example!<a class="anchor" aria-label="anchor" href="#lets-run-an-example"></a>
</h3>
<p>The package includes real survey data, coming from a humanitarian Multi-Sector Needs Assessment) run in Haiti by the INGO IMPACT Initiatives in 2022.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/gnoblet/SurveyLiteR" class="external-link">SurveyLiteR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the example data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"design"</span><span class="op">)</span> <span class="co"># Survey design with weights, strata, clusters</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"main"</span><span class="op">)</span> <span class="co"># Survey data (household-level data)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"survey"</span><span class="op">)</span> <span class="co"># KoboToolbox survey sheet</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"choices"</span><span class="op">)</span> <span class="co"># KoboToolbox choices sheet</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"analysis_dap"</span><span class="op">)</span> <span class="co"># Data Analysis Plan (31 indicators)</span></span></code></pre></div>
<p>Now, let‚Äôs imagine I want to analyze the variable <code>h_2_type_latrine</code>, which is a single-choice categorical variable about the type of latrines used by the household.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This is a generic survey analysis function</span></span>
<span><span class="va">so</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/svy_proportion.html">svy_proportion</a></span><span class="op">(</span><span class="va">design</span>, <span class="st">"h_2_type_latrine"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This is a specific KoboToolbox analysis function</span></span>
<span><span class="va">so</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/kobo_select_one.html">kobo_select_one</a></span><span class="op">(</span><span class="va">design</span>, <span class="st">"h_2_type_latrine"</span>, <span class="va">survey</span>, <span class="va">choices</span><span class="op">)</span></span></code></pre></div>
<p>The analysis run with the <code><a href="reference/kobo_select_one.html">kobo_select_one()</a></code> function returns a data frame with labels and a row per category, along with the weighted proportion, confidence intervals, unweighted counts, number of missing values, etc.. Here is a preview of the output:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">so</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">var_value</span>, <span class="va">stat</span>, <span class="va">stat_low</span>, <span class="va">stat_upp</span>, <span class="va">n_unw</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt;                   var_value        stat     stat_low    stat_upp n_unw</span></span>
<span><span class="co">#&gt;                      &lt;char&gt;       &lt;num&gt;        &lt;num&gt;       &lt;num&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1:                    aucun 0.054484395 0.0458488645 0.064636228   221</span></span>
<span><span class="co">#&gt; 2:     defecation_air_libre 0.143896781 0.1284883750 0.160812018   636</span></span>
<span><span class="co">#&gt; 3: latrine_fosse_avec_dalle 0.165391479 0.1473257185 0.185191407   566</span></span>
<span><span class="co">#&gt; 4: latrine_fosse_sans_dalle 0.103669595 0.0871157213 0.122945421   410</span></span>
<span><span class="co">#&gt; 5:                      nsp 0.001886509 0.0006492863 0.005468372     5</span></span></code></pre></div>
<p>We can easily visualize the results with <code>ggplot2</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org" class="external-link">scales</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://forcats.tidyverse.org/" class="external-link">forcats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># reorder and factor by highest value last (for ggplot2 horizontal bar chart)</span></span>
<span><span class="va">so</span><span class="op">[</span>, <span class="va">var_value</span> <span class="op">:=</span> <span class="fu">forcats</span><span class="fu">::</span><span class="fu">fct_reorder</span><span class="op">(</span><span class="va">var_value</span>, <span class="va">stat</span>, .desc <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># plot</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">so</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">var_value</span>, y <span class="op">=</span> <span class="va">stat</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_y_continuous</span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">label_percent</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_errorbar</span><span class="op">(</span></span>
<span>    <span class="fu">aes</span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">stat_low</span>, ymax <span class="op">=</span> <span class="va">stat_upp</span><span class="op">)</span>,</span>
<span>    width <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>    linewidth <span class="op">=</span> <span class="fl">0.5</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Proportion of households by type of latrines used"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">""</span>,</span>
<span>    y <span class="op">=</span> <span class="st">""</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Source: MSNA Haiti 2022 (IMPACT Initiatives)"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    plot.title.position <span class="op">=</span> <span class="st">"plot"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-plot-1.png" style="width:100.0%"></p>
<p>If you want to get labels directly from kobo, you can use: <code>x = var_value_label</code> instead of <code>x = var_value</code>.</p>
<p>Now, let‚Äôs disaggregate the results by urban/rural setting, using the <code>group</code> argument:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Disaggregation by urban/rural setting</span></span>
<span><span class="va">so2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/kobo_select_one.html">kobo_select_one</a></span><span class="op">(</span></span>
<span>  <span class="va">design</span>,</span>
<span>  <span class="st">"h_2_type_latrine"</span>,</span>
<span>  <span class="va">survey</span>,</span>
<span>  <span class="va">choices</span>,</span>
<span>  group <span class="op">=</span> <span class="st">"milieu"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># reorder and factor by highest value last (for ggplot2 horizontal bar chart)</span></span>
<span><span class="va">so2</span><span class="op">[</span>, <span class="va">var_value</span> <span class="op">:=</span> <span class="fu">forcats</span><span class="fu">::</span><span class="fu">fct_reorder</span><span class="op">(</span><span class="va">var_value</span>, <span class="va">stat</span>, .desc <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># recode group values</span></span>
<span><span class="va">so2</span><span class="op">[</span>,</span>
<span>  <span class="va">group_key_value</span> <span class="op">:=</span> <span class="fu">forcats</span><span class="fu">::</span><span class="fu">fct_recode</span><span class="op">(</span></span>
<span>    <span class="va">group_key_value</span>,</span>
<span>    <span class="st">"Urban"</span> <span class="op">=</span> <span class="st">"urbain"</span>,</span>
<span>    <span class="st">"Rural"</span> <span class="op">=</span> <span class="st">"rural"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">]</span></span>
<span><span class="co"># plot (using ggplot4.0.0+ palette.fill.discrete)</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">so2</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">var_value</span>, y <span class="op">=</span> <span class="va">stat</span>, fill <span class="op">=</span> <span class="va">group_key_value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.8</span>, position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_y_continuous</span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">label_percent</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_errorbar</span><span class="op">(</span></span>
<span>    <span class="fu">aes</span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">stat_low</span>, ymax <span class="op">=</span> <span class="va">stat_upp</span><span class="op">)</span>,</span>
<span>    width <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>    linewidth <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>    position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Proportion of households by type of latrines used, by setting"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">""</span>,</span>
<span>    y <span class="op">=</span> <span class="st">""</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">""</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Source: MSNA Haiti 2022 (IMPACT Initiatives)"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    plot.title.position <span class="op">=</span> <span class="st">"plot"</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>    palette.fill.discrete <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#40afefff"</span>, <span class="st">"#f99d56ff"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-group-1.png" style="width:100.0%"></p>
</div>
</div>
<div class="section level2">
<h2 id="analysis-workflow-decision-tree">Analysis Workflow Decision Tree<a class="anchor" aria-label="anchor" href="#analysis-workflow-decision-tree"></a>
</h2>
<div class="section level3">
<h3 id="whats-your-data-source">What‚Äôs your data source?<a class="anchor" aria-label="anchor" href="#whats-your-data-source"></a>
</h3>
<table class="table"><tr>
<td width="50%" valign="top">
<p>üìã <strong>KoboToolbox Data</strong></p>
<ul>
<li>Have survey and choices sheets</li>
<li>Want labeled outputs</li>
<li>Need simple or multiple choice analysis</li>
</ul>
<p><strong>‚Üí Go to <a href="#kobo-path">KoboToolbox Workflow</a></strong></p>
</td>
<td width="50%" valign="top">
<p>üìä <strong>Other Survey Data</strong></p>
<ul>
<li>Have survey weights/strata/clusters</li>
<li>Want quick simple reuslts</li>
<li>No need for Kobo-specific features</li>
</ul>
<p><strong>‚Üí Go to <a href="#general-path">General Survey Workflow</a></strong></p>
</td>
</tr></table>
<hr>
</div>
<div class="section level3">
<h3 id="id_Ô∏è-kobotoolbox-workflow">
<a id="kobo-path"></a>üéõÔ∏è KoboToolbox Workflow<a class="anchor" aria-label="anchor" href="#id_%EF%B8%8F-kobotoolbox-workflow"></a>
</h3>
<div class="section level4">
<h4 id="organised-analysis-plan-or-automation">Organised analysis plan or automation<a class="anchor" aria-label="anchor" href="#organised-analysis-plan-or-automation"></a>
</h4>
<p><strong>Best for:</strong> Full analysis with minimal coding with a prepared Data Analysis Plan (DAP) or running quick exploratory analysis from the Kobo Tool.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#kobo_analysis_from_dap(design, analysis_dap, survey, choices)</span></span>
<span><span class="fu"><a href="reference/auto_kobo_analysis.html">auto_kobo_analysis</a></span><span class="op">(</span><span class="va">design</span>, <span class="va">survey</span>, <span class="va">choices</span>, level <span class="op">=</span> <span class="fl">0.95</span>, choices_sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="individual-analysis-by-variable-type">Individual Analysis by Variable Type<a class="anchor" aria-label="anchor" href="#individual-analysis-by-variable-type"></a>
</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 29%">
<col style="width: 26%">
</colgroup>
<thead><tr>
<th>
Variable Type
</th>
<th>
Function
</th>
<th>
Example
</th>
</tr></thead>
<tbody>
<tr>
<td>
üìä <strong>Categorical (single)</strong>
</td>
<td>
<code><a href="reference/kobo_select_one.html">kobo_select_one()</a></code>
</td>
<td>
<code>kobo_select_one(design, ‚Äúh_2_type_latrine‚Äù, survey, choices)</code>
</td>
</tr>
<tr>
<td>
üìä <strong>Categorical (multiple)</strong>
</td>
<td>
<code><a href="reference/kobo_select_multiple.html">kobo_select_multiple()</a></code>
</td>
<td>
<code>kobo_select_multiple(design, ‚Äúh_1_acces_eau‚Äù, survey, choices)</code>
</td>
</tr>
<tr>
<td>
üìà <strong>Numeric (symmetric)</strong>
</td>
<td>
<code><a href="reference/kobo_mean.html">kobo_mean()</a></code>
</td>
<td>
<code>kobo_mean(design, ‚Äúc_total_age_3a_17a‚Äù, survey, choices)</code>
</td>
</tr>
<tr>
<td>
üìà <strong>Numeric (skewed)</strong>
</td>
<td>
<code><a href="reference/kobo_median.html">kobo_median()</a></code>
</td>
<td>
<code>kobo_median(design, ‚Äúf_5_depenses_ba‚Äù, survey, choices)</code>
</td>
</tr>
<tr>
<td>
‚ûó <strong>Ratios</strong>
</td>
<td>
<code><a href="reference/kobo_ratio.html">kobo_ratio()</a></code>
</td>
<td>
<code>kobo_ratio(design, ‚Äúe_freq_regt‚Äù, ‚Äúc_total_age_3a_17a‚Äù, survey, choices)</code>
</td>
</tr>
<tr>
<td>
üîó <strong>Cross-tabs</strong>
</td>
<td>
<code><a href="reference/kobo_interact.html">kobo_interact()</a></code>
</td>
<td>
<code>kobo_interact(design, c(‚Äúh_2_type_latrine‚Äù, ‚Äúfcs_cat‚Äù), survey, choices)</code>
</td>
</tr>
<tr>
<td>
üîÑ <strong>Flexible</strong>
</td>
<td>
<code><a href="reference/kobo_analysis.html">kobo_analysis()</a></code>
</td>
<td>
<code>kobo_analysis(design, ‚Äúmean‚Äù, ‚Äúc_total_age_3a_17a‚Äù, survey, choices)</code>
</td>
</tr>
</tbody>
</table>
<p><strong>Batch Analysis Functions:</strong> The below functions analyze all variables of a given type in one go, based on the survey and choices sheets.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Analyze all variables of each type at once</span></span>
<span><span class="fu"><a href="reference/kobo_select_one_all.html">kobo_select_one_all</a></span><span class="op">(</span><span class="va">design</span>, <span class="va">survey</span>, <span class="va">choices</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/kobo_select_multiple_all.html">kobo_select_multiple_all</a></span><span class="op">(</span><span class="va">design</span>, <span class="va">survey</span>, <span class="va">choices</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/kobo_mean_all.html">kobo_mean_all</a></span><span class="op">(</span><span class="va">design</span>, <span class="va">survey</span>, <span class="va">choices</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/kobo_median_all.html">kobo_median_all</a></span><span class="op">(</span><span class="va">design</span>, <span class="va">survey</span>, <span class="va">choices</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="id_-general-survey-workflow">
<a id="general-path"></a>‚ö° General Survey Workflow<a class="anchor" aria-label="anchor" href="#id_-general-survey-workflow"></a>
</h3>
<div class="section level4">
<h4 id="quick-automation">Quick Automation<a class="anchor" aria-label="anchor" href="#quick-automation"></a>
</h4>
<p><strong>Best for:</strong> Rapid exploratory analysis</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/auto_svy_analysis.html">auto_svy_analysis</a></span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="manual-control-by-variable-type">Manual Control by Variable Type<a class="anchor" aria-label="anchor" href="#manual-control-by-variable-type"></a>
</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 29%">
<col style="width: 26%">
</colgroup>
<thead><tr>
<th>
Variable Type
</th>
<th>
Function
</th>
<th>
Example
</th>
</tr></thead>
<tbody>
<tr>
<td>
üìä <strong>Categorical</strong>
</td>
<td>
<code><a href="reference/svy_proportion.html">svy_proportion()</a></code>
</td>
<td>
<code>svy_proportion(design, ‚Äúh_2_type_latrine‚Äù)</code>
</td>
</tr>
<tr>
<td>
üìà <strong>Numeric (symmetric)</strong>
</td>
<td>
<code><a href="reference/svy_mean.html">svy_mean()</a></code>
</td>
<td>
<code>svy_mean(design, ‚Äúc_total_age_3a_17a‚Äù)</code>
</td>
</tr>
<tr>
<td>
üìà <strong>Numeric (skewed)</strong>
</td>
<td>
<code><a href="reference/svy_median.html">svy_median()</a></code>
</td>
<td>
<code>svy_median(design, ‚Äúf_5_depenses_ba‚Äù)</code>
</td>
</tr>
<tr>
<td>
üìè <strong>Distributions</strong>
</td>
<td>
<code><a href="reference/svy_quantile.html">svy_quantile()</a></code>
</td>
<td>
<code>svy_quantile(design, ‚Äúf_5_depenses_ba‚Äù)</code>
</td>
</tr>
<tr>
<td>
‚ûó <strong>Ratios</strong>
</td>
<td>
<code><a href="reference/svy_ratio.html">svy_ratio()</a></code>
</td>
<td>
<code>svy_ratio(design, ‚Äúe_freq_regt‚Äù, ‚Äúc_total_age_3a_17a‚Äù)</code>
</td>
</tr>
<tr>
<td>
üîó <strong>Cross-tabs</strong>
</td>
<td>
<code><a href="reference/svy_interact.html">svy_interact()</a></code>
</td>
<td>
<code>svy_interact(design, c(‚Äúh_2_type_latrine‚Äù, ‚Äúfcs_cat‚Äù))</code>
</td>
</tr>
<tr>
<td>
üîÑ <strong>Flexible</strong>
</td>
<td>
<code><a href="reference/svy_analysis.html">svy_analysis()</a></code>
</td>
<td>
<code>svy_analysis(design, ‚Äúmean‚Äù, ‚Äúc_total_age_3a_17a‚Äù)</code>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="id_-data-analysis-plan-format">üìã Data Analysis Plan Format<a class="anchor" aria-label="anchor" href="#id_-data-analysis-plan-format"></a>
</h2>
<p>Create your own DAP based on the included example:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View the example DAP structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">analysis_dap</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Your DAP should have at least the 'analysis', 'var', and 'na_rm' columns:</span></span>
<span><span class="va">my_dap</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  analysis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"select_one"</span>, <span class="st">"select_multiple"</span>, <span class="st">"ratio"</span><span class="op">)</span>,</span>
<span>  var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"c_total_age_3a_17a"</span>, <span class="co"># mean: number of children aged 3-17</span></span>
<span>    <span class="st">"h_2_type_latrine"</span>, <span class="co"># select_one: type of latrines</span></span>
<span>    <span class="st">"h_1_acces_eau"</span>, <span class="co"># select_multiple: water access issues</span></span>
<span>    <span class="st">"e_freq_regt,c_total_age_3a_17a"</span> <span class="co"># ratio: school attendance rate</span></span>
<span>  <span class="op">)</span>,</span>
<span>  na_rm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span><span class="op">)</span>,</span>
<span>  sector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Demographics"</span>, <span class="st">"WASH"</span>, <span class="st">"WASH"</span>, <span class="st">"Education"</span><span class="op">)</span>,</span>
<span>  indicator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Mean number of children aged 3-17 in household"</span>,</span>
<span>    <span class="st">"% of households by type of latrine"</span>,</span>
<span>    <span class="st">"% of households by water access issues"</span>,</span>
<span>    <span class="st">"School attendance rate among children aged 3-17"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>Supported analysis types:</strong></p>
<ul>
<li>
<code>"mean"</code> - for numeric variables (e.g., <code>c_total_age_3a_17a</code>)</li>
<li>
<code>"median"</code> - for skewed numeric variables (e.g., <code>f_5_depenses_ba</code>)</li>
<li>
<code>"select_one"</code> - for single-choice categorical (e.g., <code>h_2_type_latrine</code>)</li>
<li>
<code>"select_multiple"</code> - for multiple-choice questions (e.g., <code>h_1_acces_eau</code>)</li>
<li>
<code>"ratio"</code> - for rates (format: ‚Äúnumerator,denominator‚Äù)</li>
<li>
<code>"interact"</code> - for cross-tabulations (format: ‚Äúvar1,var2‚Äù)</li>
</ul>
</div>
<div class="section level2">
<h2 id="id_-understanding-outputs">üîç Understanding Outputs<a class="anchor" aria-label="anchor" href="#id_-understanding-outputs"></a>
</h2>
<p>All <code>svy_*()</code> functions return standardized data frames with:</p>
<ul>
<li>
<strong><code>group_key</code></strong>: Grouping variable (if any)</li>
<li>
<strong><code>group_key_value</code></strong>: Specific group level (if grouped)</li>
<li>
<strong><code>var</code></strong>: Variable name</li>
<li>
<strong><code>var_value</code></strong>: Category/level (for categorical variables)</li>
<li>
<strong><code>stat</code></strong>: Main statistic (mean, proportion, etc.)</li>
<li>
<strong><code>stat_low</code></strong>, <strong><code>stat_upp</code></strong>: Confidence interval bounds</li>
<li>
<strong><code>stat_unw</code></strong>: Unweighted statistic</li>
<li>
<strong><code>n_unw</code></strong>: Unweighted sample size</li>
<li>
<strong><code>stat_type</code></strong>: Type of analysis performed</li>
<li>
<strong><code>n_tot_unw</code></strong>: Total sample size for the group (if any, else overall)</li>
<li>
<strong><code>n_tot</code></strong>: Total weighted sample</li>
<li>
<strong><code>na_count_tot</code></strong>: Total missing values for the variable</li>
<li>
<strong><code>analysis_key</code></strong>: Unique identifier for each analysis</li>
</ul>
<p>For interactions, additional columns like <code>interact_key</code> and <code>interact_key_value</code> are included.</p>
<p>The <strong><code>analysis_key</code></strong> is built as follows: <code>\&lt;stat_type\&gt; @/@ \&lt;var\&gt; %/% \&lt;var_value\&gt; @/@ \&lt;group\&gt; %/% \&lt;group_value\&gt;</code>. For instance, the key for a proportion of Household Hunger Scale (HHS) categories by setting could be: <code>proportion @/@ hhs_cat %/% Little @/@ setting %/% rural</code>.</p>
<p>When using <code>kobo_*()</code> functions, additional metadata columns from the survey and choices sheets are included, such as labels of variables and choices and the type of question.</p>
<hr>
</div>
<div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="questions-or-issues">Questions or Issues?<a class="anchor" aria-label="anchor" href="#questions-or-issues"></a>
</h1>
</div>
<ul>
<li>üêõ Report bugs on <a href="https://github.com/gnoblet/SurveyLiteR/issues" class="external-link">GitHub</a>‚Äîplease with MWE.</li>
<li>üí¨ Feature requests goes there too.</li>
<li>Feel free to reach out on Bluesky or Linkedin (@gnoblet) for questions or help.</li>
</ul>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gnoblet/SurveyLiteR/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing SurveyLiteR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Noblet Guillaume <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gnoblet/SurveyLiteR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/gnoblet/SurveyLiteR/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/gnoblet/SurveyLiteR" class="external-link"><img src="https://codecov.io/gh/gnoblet/SurveyLiteR/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noblet Guillaume.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
