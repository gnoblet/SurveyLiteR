% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/svy_make.R
\name{svy_make}
\alias{svy_make}
\title{Internal function to make survey analysis results}
\usage{
svy_make(
  design,
  vars,
  group = NULL,
  group_key_sep = " -/- ",
  na_rm = TRUE,
  vartype = "ci",
  level = 0.95,
  stat_type = "mean",
  survey_fn,
  unweighted_fn,
  group_by_var = FALSE,
  var_column_name = "var",
  add_var_value = TRUE,
  custom_grouping = NULL,
  custom_var_handling = NULL,
  ...
)
}
\arguments{
\item{design}{A srvyr::design object}

\item{vars}{Character vector of variables to analyze}

\item{group}{Character vector of grouping variables (NULL for no grouping)}

\item{group_key_sep}{Separator for group key values}

\item{na_rm}{Whether to remove NAs}

\item{vartype}{Type of variance estimate}

\item{level}{Confidence level}

\item{stat_type}{Character string for the type of statistic}

\item{survey_fn}{Function to call for survey calculation (e.g., srvyr::survey_mean)}

\item{unweighted_fn}{Function to calculate unweighted statistic (e.g. mean)}

\item{group_by_var}{Whether to group by the variable itself (for proportions)}

\item{var_column_name}{What to call the variable column (default "var")}

\item{add_var_value}{Whether to add a var_value column}

\item{custom_grouping}{Custom grouping logic (function)}

\item{custom_var_handling}{Custom variable handling (function)}

\item{...}{Additional arguments passed to survey_fn}
}
\value{
A data.table with survey results
}
\description{
This is a general helper function used by all svy_* functions to reduce
code duplication. It handles the common patterns of survey analysis
including NA handling, grouping, survey calculations, and result formatting.
}
\keyword{internal}
